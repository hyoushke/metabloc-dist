import{j as e,r as o}from"./jsx-runtime-69245957.js";import{u as T,a as R,L as k}from"./app.component-52445bbf.js";import{u as C,M as E,m as d,B as _}from"./messages-list.component-f14e6af0.js";import{c as x,I as D}from"./image.component-7e54fe21.js";import"./index-636c0583.js";import"./index-05b9da0c.js";const L=({screenData:i})=>{const s=i.length>0?i.at(-1):void 0;s&&s.service;const a=s?s.data:[];return e.jsx(e.Fragment,{children:s&&e.jsx("div",{className:"flex w-full overflow-x-auto",children:e.jsxs("table",{className:"divide-gray-200 w-full min-w-full table-auto border-collapse divide-y",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"text-gray-500 border-gray-200 border px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"ID"}),e.jsx("th",{scope:"col",className:"text-gray-500 border-gray-200 border px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Name"}),e.jsx("th",{scope:"col",className:"text-gray-500 border-gray-200 border px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Delivery Date"}),e.jsx("th",{scope:"col",className:"text-gray-500 border-gray-200 border px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Clicks"}),e.jsx("th",{scope:"col",className:"text-gray-500 border-gray-200 border px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Opens"}),e.jsx("th",{scope:"col",className:"text-gray-500 border-gray-200 border px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-gray-200 divide-y bg-white",children:a.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-gray-200 whitespace-nowrap border px-6 py-4",children:t.campaign_id}),e.jsx("td",{className:"border-gray-200 whitespace-nowrap border px-6 py-4",children:t.campaign_name}),e.jsx("td",{className:"border-gray-200 whitespace-nowrap border px-6 py-4",children:t.delivery_date}),e.jsx("td",{className:"border-gray-200 whitespace-nowrap border px-6 py-4",children:t.clicks}),e.jsx("td",{className:"border-gray-200 whitespace-nowrap border px-6 py-4",children:t.opens}),e.jsx("td",{className:"border-gray-200 whitespace-nowrap border px-6 py-4",children:t.status})]},t.campaign_id))})]})})})},M=({screenData:i})=>{const s=i.length>0?i.at(-1):void 0,a=s?s.data:[];return s&&s.service,e.jsxs("div",{children:[e.jsx("h1",{children:"Product List"}),e.jsx("div",{className:"product-list",children:a.map(t=>e.jsxs("div",{className:"product",children:[e.jsx("img",{src:t.product_image,alt:t.product_name}),e.jsxs("div",{children:[e.jsx("h2",{children:t.product_name}),e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",t.product_id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," $",t.product_price]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Orders:"})," ",t.product_total_orders]})]})]},t.product_id))}),e.jsx("style",{children:`
        .product-list {
          display: flex;
          flex-wrap: wrap;
          justify-content: space-between; /* Adjust alignment as needed */
        }

        .product {
          width: calc(25% - 20px); /* Adjust width and margins as needed */
          margin: 10px;
          padding: 10px;
          border: 1px solid #ccc;
          box-sizing: border-box;
        }

        .product img {
          max-width: 100%;
          height: auto;
        }
      `})]})},H={hidden:{opacity:1,scale:0},visible:{opacity:1,scale:1,transition:{staggerChildren:.1}}},P={hidden:{y:20,opacity:.5},visible:{y:[0,-5,0],opacity:1,transition:{duration:.5,repeat:Number.POSITIVE_INFINITY,repeatDelay:.5}}},B=64,K=184,V=()=>{var m,u;const i={height:"40px",display:"block",backgroundColor:"#e9ffbc",color:"#a3a692",padding:"10px",minWidth:"200px",borderRadius:"5px 5px 0 0",textTransform:"uppercase",textAlign:"center"},s={backgroundColor:"#c9f64b",color:"#606358",fontWeight:"bold"},{loading:a,messages:t,isAuth:z,screenData:l}=T(),[c,p]=o.useState(""),{sendMessage:y}=C(),b=R(),j=!0,h=o.useRef(null),n=o.useRef(null);function v(){n.current&&(n.current.style.height="inherit",n.current.style.height=`${Math.max(n.current.scrollHeight,B)}px`)}function w(){localStorage.getItem(k.accessToken)||b("/auth")}function N(){setTimeout(()=>{var r,f;(f=h.current)==null||f.scrollTo({top:(r=h.current)==null?void 0:r.scrollHeight,behavior:"smooth"})},100)}function g(){c&&(y(c),p(""))}function A(r){r.preventDefault(),g()}function I(r){!r.shiftKey&&r.key==="Enter"&&(r.preventDefault(),g())}o.useEffect(w,[]),o.useEffect(N,[t]),o.useLayoutEffect(v,[c]);const S="assets/robot-sm.webp";return e.jsx(e.Fragment,{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",gap:"10px",padding:"0 20px 20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"126px",position:"relative"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginRight:"20px",marginLeft:"20px",bottom:"0"},children:[e.jsx("img",{src:"/assets/logo.png",alt:"Logo",style:{width:"120px",marginRight:"20px"}}),e.jsxs("div",{style:{display:"flex",gap:"4px",position:"relative",bottom:0},children:[e.jsx("a",{href:"#",style:i,children:"TASKS"}),e.jsx("a",{href:"#",style:{...i,...s},children:"MARKETING"}),e.jsx("a",{href:"#",style:i,children:"SALES"}),e.jsx("a",{href:"#",style:i,children:"ADVERTISEMENTS"})]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx("div",{style:{marginRight:"20px"},children:e.jsx("img",{src:"assets/profile.jpg",alt:"Profile",style:{width:"40px",borderRadius:"50%",marginRight:"10px"}})})})]}),e.jsxs("div",{id:"main",style:{flex:1,display:"flex",gap:"20px",paddingBottom:"20px",overflow:"hidden"},children:[e.jsx("div",{style:{flex:"66%",backgroundColor:"white",color:"black",borderRadius:"15px",marginLeft:"20px",boxShadow:"0 6px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flex:1,marginTop:"12px",marginBottom:"12px",marginLeft:"12px",marginRight:"12px"},children:[l.length>1&&((m=l.at(-1))==null?void 0:m.service)=="SHOPIFY"&&e.jsx(M,{screenData:l}),l.length>1&&((u=l.at(-1))==null?void 0:u.service)=="MAILCHIMP"&&e.jsx(L,{screenData:l})]})})}),e.jsxs("div",{id:"chatbox",style:{flex:"34%",display:"flex",flexDirection:"column",backgroundColor:"white",color:"black",borderRadius:"15px",marginRight:"20px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",position:"relative",paddingBottom:"10%"},children:[e.jsx("div",{id:"header",style:{paddingTop:"10px",color:"#1a96e9",fontSize:"25px",textAlign:"center",fontWeight:"bolder"},children:"CHAT WITH BLOC"}),e.jsx("div",{id:"content",className:"scrollbar",style:{flex:"1",width:"100%",color:"#1a96e9",overflowY:"auto",overflowX:"hidden",paddingLeft:"10px",paddingRight:"10px"},children:e.jsx("div",{style:{display:"flex",flexDirection:"row",width:"100%"},children:e.jsxs("div",{className:"flex flex-1 flex-col justify-end gap-4",children:[e.jsx(E,{messages:t}),a&&e.jsxs(d.div,{animate:{scale:[0,1],transition:{duration:.5}},className:x("flex w-fit flex-row"),children:[e.jsx(_,{}),e.jsx(d.article,{style:{backgroundColor:"#c8f74"},className:"rounded-2xl p-4 text-bot-msg-text",children:e.jsx(d.ul,{className:"flex flex-row gap-2",variants:H,initial:"hidden",animate:"visible",children:[0,1,2].map(r=>e.jsx(d.li,{variants:P,className:"h-3 w-3 rounded-full bg-primary"},r))})})]})]})})}),e.jsxs("div",{style:{paddingTop:"10px",height:"15%",width:"100%",color:"#1a96e9",position:"absolute",bottom:"0",overflow:"hidden"},children:[e.jsx("img",{style:{display:"block",height:"100%",width:"auto"},src:S,alt:"xxx"}),e.jsx("div",{style:{top:"0",right:"0",position:"absolute",zIndex:"99999999",height:"100%",width:"80%",display:"block",paddingRight:"14px",marginRight:"4px",marginBottom:"4px"},children:e.jsxs(d.form,{onSubmit:A,animate:{scaleX:[0,1]},className:x("w-70 relative mt-6 rounded-2xl bg-msg-input-bg",!j),children:[e.jsx("textarea",{ref:n,onKeyDown:I,value:c,onChange:r=>p(r.target.value),className:`w-full resize-none 
                    bg-transparent 
                    p-4 
                    pr-20 text-msg-input-text placeholder:text-msg-input-placeholder focus:outline-none`,placeholder:"Your message",rows:1,style:{maxHeight:K}}),e.jsx("button",{type:"submit",disabled:a,className:x("absolute right-6 top-0 flex h-full items-center active:opacity-50",{"opacity-80 pointer-events-none":a}),children:e.jsx(D,{name:"send",className:"h-10 w-10 rotate-45"})})]})})]})]})]})]})})};export{V as ChatPage};
